!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports["react-custom-flag-select"]=t(require("React")):e["react-custom-flag-select"]=t(e.React)}(this,(function(e){return function(e){var t={};function n(c){if(t[c])return t[c].exports;var o=t[c]={i:c,l:!1,exports:{}};return e[c].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,c){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(c,o,function(t){return e[t]}.bind(null,o));return c},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(t,n){t.exports=e},function(e,t,n){e.exports={ellipsis:"react-custom-flag-select__ellipsis___1ZnQ3",select__button:"react-custom-flag-select__select__button___15AP2",select__wrapper:"react-custom-flag-select__select__wrapper___1R93I",disabled:"react-custom-flag-select__disabled___2j0z7",select__input:"react-custom-flag-select__select__input___14Lze",select__buttonWrapper:"react-custom-flag-select__select__buttonWrapper___12YOr",select__searchInputWrapper:"react-custom-flag-select__select__searchInputWrapper___2YwS_",select__searchInputSearchIcon:"react-custom-flag-select__select__searchInputSearchIcon___2oJfw",select__searchInputRemoveIcon:"react-custom-flag-select__select__searchInputRemoveIcon___2Fd43",select__searchInput:"react-custom-flag-select__select__searchInput___3Q6TN",select__container:"react-custom-flag-select__select__container___2FIjR","select__options-item":"react-custom-flag-select__select__options-item___3_6R4","select__options-item-show-cursor":"react-custom-flag-select__select__options-item-show-cursor___24_5-","select__no-mouse":"react-custom-flag-select__select__no-mouse___3ka1G","select__hover-active":"react-custom-flag-select__select__hover-active___1ECCY",active:"react-custom-flag-select__active___2SYE9","select__options-container-animate":"react-custom-flag-select__select__options-container-animate___zn9Fe",show:"react-custom-flag-select__show___1cXxR","select__options-container":"react-custom-flag-select__select__options-container___1TPJG",select__dropdown:"react-custom-flag-select__select__dropdown___Pf01k","select__dropdown-icon":"react-custom-flag-select__select__dropdown-icon___3KppP",select__selector:"react-custom-flag-select__select__selector___1JJ_x","select__dropdown-flag":"react-custom-flag-select__select__dropdown-flag___4-6D7","select__dropdown-name":"react-custom-flag-select__select__dropdown-name___TxNpJ",showArrow:"react-custom-flag-select__showArrow___2E92p","select__dropdown-icon-container":"react-custom-flag-select__select__dropdown-icon-container___1hWQW"}},function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function e(){for(var t=[],n=0;n<arguments.length;n+=1){var c=n<0||arguments.length<=n?void 0:arguments[n];if(c){var o=r(c);if("string"===o||"number"===o)t.push(c);else if(Array.isArray(c)&&c.length){var a=e.apply(null,c);a&&t.push(a)}else if("object"===o)for(var l in c)({}).hasOwnProperty.call(c,l)&&c[l]&&t.push(l)}}return t.join(" ")},l=n(1),s=n.n(l);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],c=!0,o=!1,r=void 0;try{for(var a,l=e[Symbol.iterator]();!(c=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);c=!0);}catch(e){o=!0,r=e}finally{try{c||null==l.return||l.return()}finally{if(o)throw r}}return n}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}var b="select",h=[27,40,38,13],g=!1,y=!1,w=null,O=null,j=function(e,t){for(var n=-1,c=0;c<e.length;c+=1)if(e[c].id===t){n=c;break}return n},E=Object(c.memo)((function(e){var t=e.value,n=void 0===t?"":t,r=e.disabled,l=void 0!==r&&r,i=e.showSearch,_=void 0!==i&&i,p=e.fields,v=void 0===p?["name"]:p,E=e.keyword,C=void 0===E?"":E,k=e.showArrow,I=void 0===k||k,N=e.animate,x=void 0!==N&&N,L=e.optionList,M=void 0===L?[]:L,P=e.classNameWrapper,A=void 0===P?"":P,R=e.classNameContainer,T=void 0===R?"":R,B=e.classNameSelect,W=void 0===B?"":B,D=e.classNameButton,z=void 0===D?"":D,F=e.classNameOptionListItem,H=void 0===F?"":F,J=e.classNameOptionListContainer,Y=void 0===J?"":J,Q=e.classNameDropdownIconOptionListItem,$=void 0===Q?"":Q,q=e.attributesWrapper,G=void 0===q?{}:q,K=e.attributesInput,U=void 0===K?{}:K,X=e.attributesButton,Z=void 0===X?{}:X,V=e.customStyleWrapper,ee=void 0===V?{}:V,te=e.customStyleContainer,ne=void 0===te?{}:te,ce=e.customStyleSelect,oe=void 0===ce?{}:ce,re=e.customStyleButton,ae=void 0===re?{}:re,le=e.customStyleOptionListItem,se=void 0===le?{}:le,ie=e.customStyleOptionListContainer,ue=void 0===ie?{}:ie,_e=e.selectHtml,fe=void 0===_e?null:_e,de=e.selectOptionListItemHtml,me=void 0===de?null:de,pe=e.onChange,ve=void 0===pe?function(){}:pe,be=e.onBlur,he=void 0===be?null:be,ge=e.onFocus,ye=void 0===ge?null:ge,we=e.onClick,Oe=void 0===we?null:we,je=m(Object(c.useState)(!1),2),Ee=je[0],Se=je[1],Ce=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e})),t.current}(Ee),ke=m(Object(c.useState)(String(n)),2),Ie=ke[0],Ne=ke[1],xe=m(Object(c.useState)([]),2),Le=xe[0],Me=xe[1],Pe=Object(c.useState)(C),Ae=m(Object(c.useState)(!1),2),Re=Ae[0],Te=Ae[1],Be=Object(c.useRef)(null),We=Object(c.useRef)(null),De=Object(c.useRef)(null),ze=Object(c.useRef)(null),Fe=Object(c.useRef)(null),He=m(Object(c.useState)([]),2),Je=He[0],Ye=He[1],Qe=Object(c.useMemo)((function(){var e=M;return e.length&&Pe[0]&&(e=M.filter((function(e){var t=!1;return v.forEach((function(n){e[n].toLowerCase().includes(Pe[0].toLowerCase())&&(t=!0)})),t}))),e}),[Pe[0],M,v]);Object(c.useEffect)((function(){if(Qe.length){for(var e=[],t=0;t<Qe.length;t+=1)e.push("react-custom-flag-select__select_option-".concat(Qe[t].id));Ye(e)}}),[Qe]);var $e=Object(c.useCallback)((function(e){Pe[1](e.target.value)}),[]),qe=Object(c.useCallback)((function(e){var t=e.keyCode,n=st(t);-1!==h.indexOf(t)?(e.preventDefault(),it(t)):32===t&&(Pe[1]("".concat(Pe[0]," ")),e.preventDefault()),tt(n)}),[Qe,Je]);Object(c.useEffect)((function(){Ee&&_&&(w=0,tt("up"),at())}),[Pe[0]]),Object(c.useEffect)((function(){Ee?_&&(x?setTimeout((function(){Fe.current.focus()}),100):Fe.current.focus()):!0===Ce&&!1===Ee&&We.current.focus(),Ve()}),[Ee]);var Ge=Object(c.useCallback)((function(e){he&&he(e)}),[Ie]),Ke=Object(c.useCallback)((function(e){ye&&ye(e)}),[]),Ue=Object(c.useCallback)((function(e){Oe&&Oe(e)}),[]),Xe=Object(c.useCallback)((function(e,t){l||null===Be||(Se(!Ee),Ne(e),ve&&ve(e,t))}),[Ee]);Object(c.useEffect)((function(){if(null!==Be)return window.addEventListener("mousedown",Ze),window.addEventListener("touchstart",Ze),function(){window.removeEventListener("mousedown",Ze),window.removeEventListener("touchstart",Ze),Be.current&&Be.current.removeEventListener("keydown",ut)}}),[]);var Ze=Object(c.useCallback)((function(e){null===Be||Be.current.contains(e.target)||(g&&(Ge(e),g=!1),Se(!1))}),[]),Ve=Object(c.useCallback)((function(){w=j(Qe,Ie),tt()}),[Qe,Ie]),et=Object(c.useCallback)((function(){O&&clearTimeout(O),O=setTimeout((function(){Me([])}),250)}),[]),tt=Object(c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(De&&De.current&&De.current.children){var t=De.current.children,n=De.current.offsetHeight,c=De.current.scrollTop;if(!t[w])return;var o=t[w].offsetHeight;if(e){if("loop"===e)return void(De.current.scrollTop=t.length*o);if("down"===e){var r=c+n,a=w*o,l=r-o;if(a>=l){var s=Math.abs(a-l-o);s>=0&&!y?(De.current.scrollTop=c+o-s,y=!0):De.current.scrollTop=c+o}}"up"===e&&(y=!1,w*o<=c&&(De.current.scrollTop=w*o))}else y=!1,De.current.scrollTop=w*o}}),[]),nt=Object(c.useCallback)((function(e,t){Xe(e,t),Pe[1]("")}),[Ee]),ct=Object(c.useCallback)((function(e){w=e,at()}),[Je]),ot=Object(c.useCallback)((function(){Te(!1)}),[]),rt=Object(c.useCallback)((function(){lt()}),[Je]),at=Object(c.useCallback)((function(){Je&&(lt(),null!==w&&(w>=Je.length&&(w=0),w<0&&(w=Je.length-1),document.getElementById(Je[w])&&(document.getElementById(Je[w]).className+=" ".concat(s.a["".concat(b,"__hover-active")]))))}),[Je]),lt=Object(c.useCallback)((function(){for(var e=0;e<Je.length&&Je[e];e+=1)Je[e]&&document.getElementById(Je[e])&&(document.getElementById(Je[e]).className=document.getElementById(Je[e]).className.replace(s.a["".concat(b,"__hover-active")],""))}),[Je]),st=Object(c.useCallback)((function(e){switch(e){case 38:return"up";case 40:return"down";default:return}}),[]),it=Object(c.useCallback)((function(e){if(27===e)return Se(!1),void Ve();if(40===e)(w+=1)>Qe.length-1&&(w=0,tt("up")),at();else if(38===e)(w-=1)<0&&(w=Qe.length-1,tt("loop")),at();else if(13===e&&w>-1&&De&&De.current&&De.current.children){var t=De.current.children;if(!t[w])return;t[w].click()}}),[Qe,Je]),ut=Object(c.useCallback)((function(e){if(!_&&(Te(!0),e.preventDefault&&e.preventDefault(),Ee)){w=null===w?j(Qe,String(n)):w;var t=e.keyCode,c=st(t);if(-1!==h.indexOf(t))it(t);else{et();var o=[].concat(d(Le),[t]),r=String.fromCharCode.apply(String,d(o)).toLowerCase(),a=-1;Qe.forEach((function(e,t){e.name.toLowerCase().startsWith(r)&&-1===a&&(a=t)})),-1!==a&&(w=a,at()),Me(o)}return tt(c),w}}),[Ee,n,Le,Qe,Je]);Object(c.useEffect)((function(){return Ee&&Be&&Be.current&&Be.current.addEventListener("keydown",ut),function(){Be.current&&Be.current.removeEventListener("keydown",ut)}}),[Ee,n,Le]),Object(c.useEffect)((function(){Ne(String(n))}),[n]);var _t,ft=a(A,s.a["".concat(b,"__wrapper")],l&&s.a.disabled),dt=a(T,s.a["".concat(b,"__container")],Ee&&s.a.show),mt=a(s.a["".concat(b,"__input")]),pt=a(W,s.a["".concat(b,"__buttonWrapper")],s.a.ellipsis),vt=a(Y,s.a["".concat(b,"__options-container")],Ee&&s.a.show,x&&s.a["".concat(b,"__options-container-animate")]),bt=a(!Re&&s.a["".concat(b,"__options-item-show-cursor")],H,s.a["".concat(b,"__options-item")]),ht=a($,s.a["".concat(b,"__dropdown-icon")],I&&s.a.showArrow),gt=function(e,t){var n=null;if(e.length)for(var c=0;c<e.length;c+=1)if(e[c].id===t){n=e[c];break}return n}(M,String(n));Qe.length&&(_t=me||Qe.map((function(e,t){return o.a.createElement(S,{key:t,index:t,id:"react-custom-flag-select__select_option-".concat(e.id),className:String(e.id)===String(n)?"".concat(bt," ").concat(s.a.active):"".concat(bt),item:e,customStyleOptionListItem:se,onClick:nt,show:Ee,$itemEls:Je,onMouseOver:ct,onMouseMove:ot,onMouseOut:rt})})));var yt,wt=fe;return gt.flag&&(yt=o.a.createElement("div",{className:s.a["select__dropdown-flag"]},o.a.createElement("img",{src:gt.flag,style:{width:"100%",height:"100%",verticalAlign:"middle"}}))),wt||(wt=o.a.createElement("div",{className:s.a.select__dropdown},yt," ",o.a.createElement("div",{className:"".concat(s.a["select__dropdown-name"]," ").concat(s.a.ellipsis)},o.a.createElement("div",null,gt.id)," ",o.a.createElement("div",{className:ht}," ")))),o.a.createElement("div",f({ref:Be,className:ft,style:ee},G),o.a.createElement("div",{className:dt,style:ne},o.a.createElement("input",f({type:"hidden",value:n,className:mt,onChange:function(){}},U)),o.a.createElement("div",{className:pt,style:oe},o.a.createElement("button",f({type:"button",ref:We,className:a(s.a["".concat(b,"__button")],z),style:u({},ae),onClick:function(e){if(Ue(e),!l){if(ze.current&&ze.current.contains(e.target))return void Se(!0);Se(!Ee)}},onFocus:Ke,onBlur:Ge},Z),o.a.createElement("div",{className:s.a["".concat(b,"__selector")]},wt))),o.a.createElement("div",{className:vt},_&&o.a.createElement("div",{ref:ze,style:u({},ue,{overflow:"hidden"})},o.a.createElement("div",{className:s.a["".concat(b,"__searchInputWrapper")]},o.a.createElement("svg",{className:s.a["".concat(b,"__searchInputSearchIcon")],xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},o.a.createElement("path",{fill:"#cdcdcd",d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),o.a.createElement("input",{className:s.a["".concat(b,"__searchInput")],ref:Fe,value:Pe[0],onChange:$e,onKeyDown:qe}),Pe[0]&&o.a.createElement("svg",{className:s.a["".concat(b,"__searchInputRemoveIcon")],xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24",onClick:function(){Pe[1](""),Fe.current.focus()}},o.a.createElement("path",{fill:"#cdcdcd",d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))),o.a.createElement("div",{ref:De,style:ue},_t))))})),S=Object(c.memo)((function(e){var t=e.index,n=void 0===t?-1:t,r=e.id,a=void 0===r?"":r,l=e.className,i=void 0===l?"":l,u=e.item,_=e.$itemEls,f=e.customStyleOptionListItem,d=void 0===f?{}:f,m=e.onClick,p=void 0===m?function(){}:m,v=e.onMouseOver,h=void 0===v?function(){}:v,g=e.onMouseMove,y=void 0===g?function(){}:g,w=e.onMouseOut,O=void 0===w?function(){}:w,j=e.show,E=Object(c.useCallback)((function(e){p(u.id,e)}),[j,u]),S=Object(c.useCallback)((function(){h(n)}),[_,a]),C=Object(c.useCallback)((function(){y()}),[_,a]),k=Object(c.useCallback)((function(){O()}),[_,a]);return o.a.createElement("div",{id:a,onMouseOver:S,onMouseMove:C,onMouseOut:k,className:i,style:d,onClick:E},u.flag?o.a.createElement("div",{className:s.a["".concat(b,"__dropdown-flag")]},o.a.createElement("img",{key:"".concat(n).concat(u.flag),src:u.flag,style:{width:"100%",height:"100%",verticalAlign:"middle"}})):"",o.a.createElement("div",{className:"".concat(s.a["select__dropdown-name"]," ").concat(s.a.ellipsis)},o.a.createElement("div",null,u.displayText?u.displayText:u.name)))})),C=E;"undefined"!=typeof window&&(window.ReactCustomFlagSelect=C);t.default=C}])}));
//# sourceMappingURL=react-custom-flag-select.js.map